# Text-Image-Generator Extension - TypeScript Development Guide

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–
```bash
npm install
```

### å¼€å‘æ¨¡å¼
```bash
npm run dev
```
è¿™å°†å¯åŠ¨TypeScriptç¼–è¯‘å™¨åœ¨ç›‘è§†æ¨¡å¼ä¸‹è¿è¡Œï¼Œè‡ªåŠ¨é‡æ–°ç¼–è¯‘æ–‡ä»¶æ›´æ”¹ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```

### ç±»å‹æ£€æŸ¥
```bash
npm run type-check
```

### ä»£ç æ£€æŸ¥
```bash
npm run lint
npm run lint:fix
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
Text-Image-Generator/
â”œâ”€â”€ src/                    # TypeScriptæºä»£ç 
â”‚   â””â”€â”€ index.ts           # ä¸»æ‰©å±•æ–‡ä»¶
â”œâ”€â”€ types/                 # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ sillytavern.d.ts   # SillyTavernç±»å‹å®šä¹‰
â”œâ”€â”€ dist/                  # ç¼–è¯‘è¾“å‡ºç›®å½•
â”œâ”€â”€ tsconfig.json          # TypeScripté…ç½®
â”œâ”€â”€ package.json           # é¡¹ç›®é…ç½®
â”œâ”€â”€ build.js              # æ„å»ºè„šæœ¬
â””â”€â”€ .eslintrc.js          # ESLinté…ç½®
```

## ğŸ”§ å¼€å‘å·¥ä½œæµ

1. **å¼€å‘**: åœ¨ `src/` ç›®å½•ä¸­ç¼–å†™TypeScriptä»£ç 
2. **ç¼–è¯‘**: è¿è¡Œ `npm run dev` è‡ªåŠ¨ç¼–è¯‘
3. **æµ‹è¯•**: åœ¨SillyTavernä¸­æµ‹è¯•æ‰©å±•
4. **æ„å»º**: è¿è¡Œ `npm run build` ç”Ÿæˆç”Ÿäº§ç‰ˆæœ¬
5. **éƒ¨ç½²**: å°† `dist/` ç›®å½•å¤åˆ¶åˆ°SillyTavernæ‰©å±•ç›®å½•

## ğŸ“ ç±»å‹å®šä¹‰

é¡¹ç›®åŒ…å«å®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰ï¼š

- `AudioExtensionSettings`: éŸ³é¢‘æ‰©å±•è®¾ç½®ç±»å‹
- `SillyTavernContext`: SillyTavernä¸Šä¸‹æ–‡ç±»å‹
- `SlashCommand`: æ–œæ å‘½ä»¤ç±»å‹
- å…¨å±€å˜é‡ç±»å‹å®šä¹‰

## ğŸ¯ ä¸»è¦åŠŸèƒ½

- âœ… åŠ¨æ€èƒŒæ™¯éŸ³ä¹åˆ‡æ¢
- âœ… ç¯å¢ƒéŸ³æ•ˆç®¡ç†
- âœ… æ–œæ å‘½ä»¤æ”¯æŒ (`/music`, `/ambient`)
- âœ… æ™ºèƒ½æ–‡ä»¶æœç´¢
- âœ… éŸ³é‡æ§åˆ¶
- âœ… ç§»åŠ¨è®¾å¤‡æ”¯æŒ

## ğŸ” è°ƒè¯•

ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼š
- æ‰©å±•åŠ è½½çŠ¶æ€
- éŸ³é¢‘æ–‡ä»¶æœç´¢
- æ–œæ å‘½ä»¤æ‰§è¡Œ
- é”™è¯¯ä¿¡æ¯

## ğŸ“¦ éƒ¨ç½²

1. è¿è¡Œ `npm run build`
2. å°† `dist/` ç›®å½•é‡å‘½åä¸ºæ‰©å±•åç§°
3. å¤åˆ¶åˆ°SillyTavernçš„æ‰©å±•ç›®å½•
4. é‡å¯SillyTavern

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **TypeScript**: ç±»å‹å®‰å…¨çš„JavaScript
- **jQuery**: DOMæ“ä½œå’Œäº‹ä»¶å¤„ç†
- **Fuse.js**: æ¨¡ç³Šæœç´¢
- **ESLint**: ä»£ç è´¨é‡æ£€æŸ¥
- **SillyTavern API**: æ‰©å±•ç³»ç»Ÿé›†æˆ
