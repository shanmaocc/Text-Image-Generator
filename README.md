# Text-Image-Generator

ä¸€ä¸ªSillyTavernæ‰©å±•ï¼Œé›†æˆäº†AIæç¤ºè¯ç”Ÿæˆå’ŒComfyUIå›¾ç‰‡ç”ŸæˆåŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ¤– **AIæç¤ºè¯ç”Ÿæˆ** - ä½¿ç”¨OpenAIå…¼å®¹APIè‡ªåŠ¨ç”Ÿæˆé«˜è´¨é‡çš„å›¾ç‰‡æç¤ºè¯
- ğŸ¨ **ComfyUIé›†æˆ** - æ”¯æŒComfyUIå·¥ä½œæµï¼Œå¯è‡ªå®šä¹‰å›¾ç‰‡ç”Ÿæˆå‚æ•°
- âš¡ **å®æ—¶ç”Ÿæˆ** - åœ¨èŠå¤©ç•Œé¢ä¸­ä¸€é”®ç”Ÿæˆå›¾ç‰‡
- ğŸ”§ **çµæ´»é…ç½®** - æ”¯æŒå¤šç§æ¨¡å‹ã€é‡‡æ ·å™¨ã€è°ƒåº¦å™¨é…ç½®
- ğŸ¯ **æ™ºèƒ½å·¥ä½œæµ** - æ”¯æŒåŠ¨æ€å·¥ä½œæµæ›¿æ¢å’Œå ä½ç¬¦ç³»ç»Ÿ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

#### æ–¹å¼ä¸€ï¼šSillyTavern å†…ç½®å®‰è£…ï¼ˆæ¨èï¼‰

1. æ‰“å¼€ SillyTavern
2. è¿›å…¥ **æ‰©å±•è®¾ç½®** â†’ **å®‰è£…æ‰©å±•**
3. åœ¨ **Git ä»“åº“ URL** ä¸­è¾“å…¥ï¼š
    ```
    https://github.com/shanmaocc/Text-Image-Generator.git
    ```
4. ç‚¹å‡» **å®‰è£…**
5. å®‰è£…å®Œæˆåï¼Œåœ¨æ‰©å±•åˆ—è¡¨ä¸­å¯ç”¨ **Text Image Generator**

#### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…

1. å…‹éš†ä»“åº“ï¼š

    ```bash
    git clone https://github.com/shanmaocc/Text-Image-Generator.git
    ```

2. å°†æ•´ä¸ªé¡¹ç›®æ–‡ä»¶å¤¹å¤åˆ¶åˆ°SillyTavernçš„æ‰©å±•ç›®å½•ï¼š

    ```
    SillyTavern/public/scripts/extensions/third-party/Text-Image-Generator/
    ```

3. é‡å¯SillyTavern

4. åœ¨æ‰©å±•è®¾ç½®ä¸­æ‰¾åˆ°"Text Image Generator"å¹¶å¯ç”¨

### é…ç½®

#### 1. AI APIé…ç½®

- åœ¨æ‰©å±•è®¾ç½®ä¸­é…ç½®OpenAIå…¼å®¹APIçš„URLå’Œæ¨¡å‹
- æ”¯æŒOpenAIã€Claudeã€æœ¬åœ°æ¨¡å‹ç­‰

#### 2. ComfyUIé…ç½®

- è®¾ç½®ComfyUIæœåŠ¡å™¨åœ°å€ï¼ˆé»˜è®¤ï¼šhttp://127.0.0.1:8188ï¼‰
- é…ç½®æ¨¡å‹ã€VAEã€é‡‡æ ·å™¨ç­‰å‚æ•°
- é€‰æ‹©æˆ–ä¸Šä¼ ComfyUIå·¥ä½œæµæ–‡ä»¶

#### 3. å›¾ç‰‡ç”Ÿæˆå‚æ•°

- **åˆ†è¾¨ç‡**ï¼šæ”¯æŒå¤šç§é¢„è®¾åˆ†è¾¨ç‡
- **é‡‡æ ·æ­¥æ•°**ï¼šæ§åˆ¶ç”Ÿæˆè´¨é‡
- **CFG Scale**ï¼šæ§åˆ¶æç¤ºè¯éµå¾ªç¨‹åº¦
- **ç§å­**ï¼šå¯è®¾ç½®å›ºå®šç§å­æˆ–éšæœºç”Ÿæˆ

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åŸºæœ¬ä½¿ç”¨

1. åœ¨èŠå¤©ç•Œé¢ä¸­ï¼ŒAIå›å¤æ¶ˆæ¯åä¼šå‡ºç°"ç”Ÿæˆå›¾ç‰‡"æŒ‰é’®
2. ç‚¹å‡»æŒ‰é’®ï¼Œæ‰©å±•ä¼šï¼š
    - ä½¿ç”¨AIåˆ†ææ¶ˆæ¯å†…å®¹ç”Ÿæˆæç¤ºè¯
    - è°ƒç”¨ComfyUIç”Ÿæˆå›¾ç‰‡
    - å°†å›¾ç‰‡æ’å…¥åˆ°èŠå¤©ä¸­

### é«˜çº§åŠŸèƒ½

#### å·¥ä½œæµç¼–è¾‘å™¨

- æ”¯æŒå¯è§†åŒ–ç¼–è¾‘ComfyUIå·¥ä½œæµ
- å®æ—¶é¢„è§ˆå·¥ä½œæµç»“æ„
- æ”¯æŒå ä½ç¬¦æ›¿æ¢ç³»ç»Ÿ

#### å ä½ç¬¦ç³»ç»Ÿ

æ”¯æŒä»¥ä¸‹å ä½ç¬¦ï¼š

- `%prompt%` - æ­£å‘æç¤ºè¯
- `%negative_prompt%` - è´Ÿé¢æç¤ºè¯
- `%model%` - æ¨¡å‹åç§°
- `%vae%` - VAEæ¨¡å‹
- `%sampler%` - é‡‡æ ·å™¨
- `%scheduler%` - è°ƒåº¦å™¨
- `%steps%` - é‡‡æ ·æ­¥æ•°
- `%scale%` - CFG Scale
- `%width%` - å›¾ç‰‡å®½åº¦
- `%height%` - å›¾ç‰‡é«˜åº¦
- `%seed%` - éšæœºç§å­

## ğŸ› ï¸ å¼€å‘

### é¡¹ç›®ç»“æ„

```
Text-Image-Generator/
â”œâ”€â”€ src/                          # TypeScriptæºä»£ç 
â”‚   â”œâ”€â”€ index.ts                 # ä¸»æ‰©å±•æ–‡ä»¶
â”‚   â””â”€â”€ component/               # ç»„ä»¶æ¨¡å—
â”‚       â”œâ”€â”€ config/              # é…ç½®ç›¸å…³
â”‚       â”‚   â”œâ”€â”€ constants.ts     # åº”ç”¨å¸¸é‡(æ”¯æŒç¯å¢ƒå˜é‡)
â”‚       â”‚   â””â”€â”€ config.ts        # å·¥ä½œæµé…ç½®
â”‚       â”œâ”€â”€ services/            # æœåŠ¡å±‚
â”‚       â”‚   â”œâ”€â”€ api-service.ts   # ComfyUI API
â”‚       â”‚   â”œâ”€â”€ ui-manager.ts    # UIçŠ¶æ€ç®¡ç†
â”‚       â”‚   â””â”€â”€ workflow-manager.ts
â”‚       â”œâ”€â”€ ui/                  # UIé…ç½®å±‚(æ¨¡å—åŒ–)
â”‚       â”‚   â”œâ”€â”€ ui-config-core.ts
â”‚       â”‚   â”œâ”€â”€ ui-config-comfy.ts
â”‚       â”‚   â”œâ”€â”€ ui-config-openai.ts
â”‚       â”‚   â”œâ”€â”€ ui-config-styles.ts
â”‚       â”‚   â””â”€â”€ ui-config-presets.ts
â”‚       â”œâ”€â”€ image/               # å›¾ç‰‡ç”Ÿæˆ(æ¨¡å—åŒ–)
â”‚       â”‚   â”œâ”€â”€ button-manager.ts
â”‚       â”‚   â”œâ”€â”€ image-generator.ts
â”‚       â”‚   â””â”€â”€ event-handlers.ts
â”‚       â”œâ”€â”€ types/               # ç±»å‹å®šä¹‰
â”‚       â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚       â””â”€â”€ logger.ts            # æ—¥å¿—ç³»ç»Ÿ
â”œâ”€â”€ dist/                        # ç¼–è¯‘è¾“å‡º
â”œâ”€â”€ @types/                      # ç±»å‹å®šä¹‰æ–‡ä»¶
â”œâ”€â”€ .github/workflows/           # CI/CDé…ç½®
â”œâ”€â”€ package.json                 # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json                # TypeScripté…ç½®
â”œâ”€â”€ vite.config.ts               # Viteæ„å»ºé…ç½®
â”œâ”€â”€ .editorconfig                # ç¼–è¾‘å™¨é…ç½®
â”œâ”€â”€ .env.example                 # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ ARCHITECTURE.md              # æ¶æ„æ–‡æ¡£
â””â”€â”€ style.css                    # æ ·å¼æ–‡ä»¶
```

### ç¯å¢ƒå˜é‡

æ”¯æŒé€šè¿‡`.env.development`æˆ–`.env.production`é…ç½®ï¼š

```bash
# è°ƒè¯•æ¨¡å¼
VITE_DEBUG_MODE=false

# é»˜è®¤ComfyUI URL
VITE_DEFAULT_COMFY_URL=http://127.0.0.1:8188

# æ—¥å¿—çº§åˆ«
VITE_LOG_LEVEL=info

# ç¼“å­˜è¿‡æœŸæ—¶é—´(æ¯«ç§’)
VITE_CACHE_EXPIRE_TIME=300000
```

### æ„å»º

```bash
# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
```

### æŠ€æœ¯æ ˆ

- **TypeScript** - ç±»å‹å®‰å…¨çš„JavaScript
- **Vite** - å¿«é€Ÿæ„å»ºå·¥å…·
- **jQuery** - DOMæ“ä½œå’Œäº‹ä»¶å¤„ç†
- **SillyTavern API** - æ‰©å±•æ¡†æ¶é›†æˆ

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- SillyTavern 1.10.0+
- Node.js 16+
- ComfyUIæœåŠ¡å™¨
- OpenAIå…¼å®¹APIï¼ˆå¯é€‰ï¼‰

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

### å¼€å‘æµç¨‹

1. Forkæœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/æ–°åŠŸèƒ½`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'æ·»åŠ æ–°åŠŸèƒ½'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/æ–°åŠŸèƒ½`
5. æäº¤Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - æŸ¥çœ‹[LICENSE](LICENSE)æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [SillyTavern](https://github.com/SillyTavern/SillyTavern) - ä¼˜ç§€çš„AIèŠå¤©ç•Œé¢
- [ComfyUI](https://github.com/comfyanonymous/ComfyUI) - å¼ºå¤§çš„å›¾ç‰‡ç”Ÿæˆå·¥ä½œæµ
- æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„æ”¯æŒ

## ğŸ“ æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜æˆ–æœ‰å»ºè®®ï¼Œè¯·ï¼š

1. æŸ¥çœ‹[Issues](https://github.com/shanmaocc/Text-Image-Generator/issues)
2. åˆ›å»ºæ–°çš„Issueæè¿°é—®é¢˜
3. åŠ å…¥è®¨è®ºåŒºäº¤æµ

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStaræ”¯æŒä¸€ä¸‹ï¼
